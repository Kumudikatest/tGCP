{"EDITOR_STATE":{"allProjectFiles":{"dc250ca1-7390-4d37-a041-e4cda152b406":{"id":"dc250ca1-7390-4d37-a041-e4cda152b406","parent":null,"name":"t","type":"DIRECTORY","isDirectory":true,"children":["b2f2e7b6-68b7-494f-ba7b-00f1697c873a","7a938908-e495-49c4-9adc-141b8f822cc1"],"isRemovable":false,"filePath":"t"},"b2f2e7b6-68b7-494f-ba7b-00f1697c873a":{"id":"b2f2e7b6-68b7-494f-ba7b-00f1697c873a","parent":"dc250ca1-7390-4d37-a041-e4cda152b406","name":"lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"t/lambda.js","code":"let AWS = require('aws-sdk');\nlet google = require('googleapis').google;\nlet _auth = require('./Authorizer');\nconst storage = google.storage('v1');\n\n\nexports.handler = function (event, context, callback) {\nstorage.objects.insert({\n  \"bucket\": \"test_sigma_gcp_storage\",\n  \"name\": \"Ob2\",\n  \"media\": {\n    \"body\": \"Testing\"\n  }\n})\n    .then(response => {\n        console.log(response.data);           // successful response\n        /*\n        response.data = {\n            \"kind\": \"storage#object\",\n            \"id\": \"<bucket>/<name>/<timestamp>\",\n            \"selfLink\": \"https://www.googleapis.com/storage/v1/b/<bucket>/o/<name>\",\n            \"name\": \"<name>\",\n            \"bucket\": \"<bucket>\",\n            \"contentType\": \"<content-type>\",\n            \"timeCreated\": \"<yyyy-MM-ddTHH:mm:ss.###Z>\",\n            \"updated\": \"<yyyy-MM-ddTHH:mm:ss.###Z>\",\n            \"size\": \"<bytes>\",\n            \"md5Hash\": \"<hash>\",\n            \"metadata\": {\n                \"<key1>\": \"<val1>\",\n                \"<key2>\": \"<val2>\"\n            },\n            \"crc32c\": \"<crc>\",\n            \"etag\": \"<etag>\"\n            // , ...\n        }\n        */\n    })\n    .catch(err => {\n        console.log(err, err.stack); // an error occurred\n    });\n    \n\n    callback(null, 'Successfully executed');\n}","triggers":[],"config":{"memory":128,"timeout":60,"runtime":"nodejs8.10"}},"7a938908-e495-49c4-9adc-141b8f822cc1":{"id":"7a938908-e495-49c4-9adc-141b8f822cc1","parent":"dc250ca1-7390-4d37-a041-e4cda152b406","name":"Authorizer.js","type":"JS_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"t/Authorizer.js","code":"const google = require(\"googleapis\").google;\n\nconst key = JSON.parse(process.env.GCLOUD_SERVICE_TOKEN);\nconst jwtClient = new google.auth.JWT({\n    email: key.client_email,\n    key: key.private_key,\n    scopes: [\"https://www.googleapis.com/auth/cloud-platform\"]\n});\ngoogle.options({auth: jwtClient, project: process.env.GCLOUD_PROJECT_ID});","triggers":[]}},"deletedFiles":[],"rootNode":"dc250ca1-7390-4d37-a041-e4cda152b406","openFiles":["b2f2e7b6-68b7-494f-ba7b-00f1697c873a"],"currentFileId":"b2f2e7b6-68b7-494f-ba7b-00f1697c873a","resources":{"storagetestsigmacloudstorage":{"name":"storagetestsigmacloudstorage","type":"storage","config":{"mode":1,"bucket":{"region":"us-east-1","name":"test_sigma_cloud_storage"}},"globallyEditable":false},"storagetestsigmagcpstorage":{"name":"storagetestsigmagcpstorage","type":"storage","config":{"mode":1,"bucket":{"region":"us-east-1","name":"test_sigma_gcp_storage"}},"globallyEditable":false}},"envVariables":[{"lambdaId":"all","varKey":"SIGMA_AWS_ACC_ID","varValue":null,"shouldPersist":false,"displayOnly":false,"editable":false},{"lambdaId":"all","varKey":"GCLOUD_SERVICE_TOKEN","varValue":null,"shouldPersist":false,"displayOnly":false,"editable":false},{"lambdaId":"all","varKey":"GCLOUD_PROJECT_ID","varValue":null,"shouldPersist":false,"displayOnly":false,"editable":false}],"packageJSON":{"dependencies":{"googleapis":{"name":"googleapis","version":"29.0.0","notRemovable":false}}},"lambdaId":"b2f2e7b6-68b7-494f-ba7b-00f1697c873a","additionalFiles":[{"content":"const google = require(\"googleapis\").google;\n\nconst key = JSON.parse(process.env.GCLOUD_SERVICE_TOKEN);\nconst jwtClient = new google.auth.JWT({\n    email: key.client_email,\n    key: key.private_key,\n    scopes: [\"https://www.googleapis.com/auth/cloud-platform\"]\n});\ngoogle.options({auth: jwtClient, project: process.env.GCLOUD_PROJECT_ID});","filePath":"undefined/Authorizer.js","fileName":"Authorizer.js","showFileOnSideBar":true},{"content":"const google = require(\"googleapis\").google;\n\nconst key = JSON.parse(process.env.GCLOUD_SERVICE_TOKEN);\nconst jwtClient = new google.auth.JWT({\n    email: key.client_email,\n    key: key.private_key,\n    scopes: [\"https://www.googleapis.com/auth/cloud-platform\"]\n});\ngoogle.options({auth: jwtClient, project: process.env.GCLOUD_PROJECT_ID});","filePath":"undefined/Authorizer.js","fileName":"Authorizer.js","showFileOnSideBar":true}]},"PROJECT_META":{"projectName":"t","projectDescription":"","projectVersion":"1.0.0","projectRegion":"us-east-1","lastSave":1540298011441},"VCS_STATE":{"provider":"GitHub","repo":{"name":"t","url":"https://github.com/Kumudikatest/tGCP"}}}